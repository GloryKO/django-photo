<!doctype html>
<html>
    <head>
        <title>
           Gallery 
        </title>
        <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" 
       integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    </head>
    <body class="m-5">
        <div class="container">
            <div class="row">
                <div class="col-md-3">

                    <div class="card">
                        <div class="card-header">
                          Categories
                        </div>
                        <ul class="list-group list-group-flush">
                          <a class="btn btn-dark btn-block btn-sm m-1"href="{% url 'gallery'%}">All</a>
                          {%for category in categories%}
                            <a class="btn btn-dark btn-block btn-sm m-1"href="{% url 'gallery'%}?category={{category.name}}">{{category.name}}</a>
                          {% endfor %}
                          {% if user.is_authenticated %}
                            <a class="btn btn-dark btn-block btn-sm m-1"href="{% url 'logout' %}">Logout</a>
                          {% else %}
                            <a class="btn btn-dark btn-block btn-sm m-1" href="{% url 'login' %}">Login</a>
                            <a class="btn btn-dark btn-block btn-sm m-1"href="{% url 'register' %}">Register</a>
                          {% endif %}

                            <a href="{% url 'add'%}" class="btn btn-dark btn-block btn-sm m-1">Add Photo</a>
                
                        </ul>
                      </div>

                </div>
                <div class="col-md-9">
                    <div class="row">
                        {% for photo in photos%}
                            <div class="col-md-4">
                                <div class="card" >
                                    <img class="card-img-top" src="{{photo.image.url}}" alt="Card image cap">
                                    <div class="card-body">
                                      <small>Category: {{photo.category}}</small>
                                    </div>
                                    <a href="{% url 'photo' photo.id %}"class="btn btn-outline-dark btn-sm m-1">View</a>
                                  </div>
                            </div>
                        {%empty %}<h1>No photos</h1>
                        {% endfor %}
                            
                        </div>
                    </div>
                </div>
            </div>


    </body>
</html>